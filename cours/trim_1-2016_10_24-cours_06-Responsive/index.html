<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>TRIM 1 - Cours 06 - Audio Video</title>
        <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
        <meta name="author" content="Bruno Simon">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="../src/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="../src/reveal.js/css/theme/orange.css" id="theme">
        <link rel="stylesheet" href="../src/reveal.js/lib/css/highlight/railscasts.css">
        <!-- <link rel="stylesheet" href="../src/reveal.js/lib/css/highlight/github.css"> -->
        <link rel="stylesheet" href="../src/custom/style.css">
        <script>
            document.write( '<link rel="stylesheet" href="../src/reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>
        <!--[if lt IE 9]>
            <script src="../src/reveal.js/lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h3>H2 - P2020</h3>
                    <h1>Développement web</h1>
                    <h3>Cours 06 - 2016-10-24</h3>
                    <ul>
                        <li>github : <a target="_blank" href="https://github.com/brunosimon/hetic-p2020">https://github.com/brunosimon/hetic-p2020</a></li>
                        <li>site : <a target="_blank" href="http://bruno-simon.com/hetic/p2020/">http://bruno-simon.com/hetic/p2020/</a></li>
                        <li>contact : <a target="_blank" mailto="bruno.simon@hetic.net">bruno.simon@hetic.net</a></li>
                    </ul>
                </section>

                <!-- INTRO -->
                <section>
                    <h1>Responsive</h1>
                </section>

                <section>
                    <p>Capacité d'un même site web à s'adapter à son environnement de visualisation</p>
                    <p class="fragment">Le responsive ne concerne pas que la résolution</p>
                </section>

                <section>
                    <p>En opposition avec l'ancienne pratique qui consistait à faire plusieurs sites et à rediriger l'utilisateur selon le device détecté</p>
                </section>

                <!-- META VIEWPORT -->
                <section>
                    <h2>META VIEWPORT</h2>
                </section>

                <section>
                    <p>Par défaut, les navigateurs mobile et certains navigateurs tablette vont tenter d'adapter le design du site en dézoomant</p>
                    <p>Ce comportement va nous gêner car nous souhaitons adapter nous même le design</p>
                </section>

                <section>
                    <p>Introduite par Apple avec l'arrivée de l'iPhone, la balise <span class="hl">meta viewport</span> permet de faire cela</p>
                    <pre><code contenteditable class="html">
<meta name="viewport" content="">
                    </code></pre>
                </section>

                <section>
                    <p>Elle met à disposition plusieurs propriétés à mettre dans l'attribut <span class="hl">content</span> séparées par des virgules</p>
                    <ul>
                        <li class="fragment"><span class="hl">width</span><br>largeur de fenêtre viewport (300px | device-width)</li>
                        <li class="fragment"><span class="hl">height</span><br>hauteur de fenêtre viewport (400px | device-height)</li>
                    </ul>
                </section>

                <section>
                    <ul>
                        <li class="fragment"><span class="hl">initial-scale</span><br>zoom initial (1 | 0.3)</li>
                        <li class="fragment"><span class="hl">minimum-scale</span><br>zoom minimum (1 | 0.3)</li>
                        <li class="fragment"><span class="hl">maximum-scale</span><br>zoom maximum (1 | 0.3)</li>
                        <li class="fragment"><span class="hl">user-scalable</span><br>autoriser ou non l'utilisateur à zoomer (yes | no)</li>
                    </ul>
                </section>

                <section>
                    <p>Empêcher le zoom initial du navigateur</p>
                    <pre><code contenteditable class="html">
<meta name="viewport" content="width=device-width,initial-scale=1">
                    </code></pre>
                    <p>et empêcher l'utilisateur de zoomer</p>
                    <pre><code contenteditable class="html">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
                    </code></pre>
                </section>

                <section>
                    <p>Cette meta n'ayant jamais été proposée au <a href="https://fr.wikipedia.org/wiki/World_Wide_Web_Consortium" target="_blank">W3C</a> ce dernier à proposé <a href="http://www.w3.org/TR/css-device-adapt/#the-viewport-rule" target="_blank">sa propre version</a> fonctionnant en CSS avec des propriétés similaires</p>
                    <pre><code contenteditable class="css">
@-ms-viewport {
   width:device-width;
   zoom:1;
   user-zoom:fixed;
}
@viewport {
   width:device-width;
   zoom:1;
   user-zoom:fixed;
}
                    </code></pre>
                    <p>N'est pratiquement <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@viewport#Browser_compatibility" target="_blank">supportée que par IE</a></p>
                </section>

                <!-- RESET -->
                <section>
                    <h2>Reset</h2>
                </section>

                <section>
                    <p>Par défaut, les navigateurs proposent une feuille de style de base (padding sur le body, marge sous un paragraphe, font par défaut, etc.)</p>
                    <p>Cette feuille de style initial varie selon le navigateur</p>
                    <p>Il faudrait pouvoir la réinitialiser pour avoir le même résultat quelque soit le navigateur</p>
                </section>

                <section>
                    <p>Il existe plusieurs CSS dont c'est le but</p>
                    <ul>
                        <li><a href="https://github.com/yui/yui3/blob/master/src/cssreset/css/cssreset.css" target="_blank">YUI 3</a></li>
                        <li><a href="http://meyerweb.com/eric/tools/css/reset/" target="_blank">Reset de Eric Meyer</a></li>
                        <li><a href="https://github.com/brunosimon/reset-css/blob/master/reset.css" target="_blank">Reset de Eric Meyer (amélioré)</a></li>
                    </ul>
                    <p>Le reset choisi doit être ajouté avant tout autre CSS et dès le début de l'intégration</p>
                </section>

                <!-- DETECTION -->
                <section>
                    <h2>Détection</h2>
                </section>

                <section>
                    <p>Il peut arriver qu'on ait besoin de détecter quelles sont les capacités du device</p>
                    <ul>
                        <li>Est-ce que c'est un écran tactile</li>
                        <li>Est-ce que le navigateur supporte le WebGL</li>
                        <li>Est-ce que le navigateur supporte les transitions</li>
                        <li>...</li>
                    </ul>
                </section>

                <section>
                    <p>Détecter manuellement prendrait beaucoup de temps</p>
                    <p>La librairie <a href="https://modernizr.com/" target="_blank">Modernizr</a> permet de le faire facilement</p>
                </section>

                <section>
                    <ul>
                        <li>Aller sur la <a href="https://modernizr.com/download" target="_blank">page de téléchargement</a></li>
                        <li>Choisir les features que l'on souhaite détecter</li>
                        <li>Cliquer sur <span class="hl">BUILD</span></li>
                        <li>Cliquer sur <span class="hl">Download</span> de la ligne <span class="u">Build</span></li>
                        <li>Rajouter le JS dans la page, à l'intérieur du <span class="hl">&lt;head&gt;</span></li>
                    </ul>
                </section>

                <section>
                    <p>
                        Modernizr va rajouter des classes dans la balise <span class="hl">&lt;html&gt;</span>
                        <br><img width="450" src="src/img/modernizr-html.png" alt="">
                    </p>
                    <p>
                        Ces données seront aussi accessible en JS
                        <br><img width="300" src="src/img/modernizr-js.png" alt="">
                    </p>
                </section>

                <!-- FAST CLICK -->
                <section>
                    <h2>Fast click</h2>
                </section>

                <section>
                    <p>Sur de nombreux devices ayant des écrans tactiles, il faut attendre un certain temps (environ 300ms) avant qu'un tap soit pris en compte</p>
                    <p>Ce délais permet au navigateur de s'assurer que l'utilisateur n'est pas en train de faire un double tap permettant en général de zoomer dans la page.</p>
                    <p>La librairie <a href="https://github.com/ftlabs/fastclick" target="_blank">FastClick</a> permet de réduire ce temps</p>
                </section>

                <section>
                    <pre><code contenteditable class="html">
&lt;script type='application/javascript' src='fastclick.js'&gt;&lt;/script&gt;

&lt;script&gt;
    if( 'addEventListener' in document )
    {
        document.addEventListener( 'DOMContentLoaded', function()
        {
            FastClick.attach(document.body);
        }, false );
    }
&lt;/script&gt;
                    </code></pre>
                </section>

                <!-- ICONS -->
                <section>
                    <h2>Icons</h2>
                </section>

                <section>
                    <p>Chaque site à besoin d'icônes (et pas que le favicon)</p>
                    <p>Les icônes peuvent apparaître dans les favoris, sur la home du smartphone, dans l'onglet, etc.</p>
                    <p>Le site <a href="http://realfavicongenerator.net/" target="_blank">Real Favicon Generator</a> permet de les générer facilement</p>
                </section>

                <section>
                    <ul>
                        <li>Uploader une image 260x260</li>
                        <li>Définir les différentes options mises à disposition</li>
                        <li>Générer</li>
                        <li>Télécharger le <span class="hl">Favicon package</span> et le placer avec les ressources du site</li>
                        <li>Récupérer le code HTML et l'ajouter dans la balise <span class="hl">&lt;head&gt;</span></li>
                    </ul>
                </section>

                <!-- MEDIA QUERIES -->
                <section>
                    <h2>Media queries</h2>
                </section>

                <section>
                    <p>Technique permettant d'adapter la feuille de style en fonction du périphérique et de ses différents critères</p>
                    <p>Peut-être appliquée de 3 façons différentes :</p>
                </section>

                <section>
                    <p>En HTML</p>
                    <pre><code contenteditable>
&lt;link rel="stylesheet" href="smallscreen.css" media="condition"/&gt;
                    </code></pre>
                    
                    <p>En CSS</p>
                    <pre><code data-trim contenteditable>
@media condition
{
    /* Mon CSS */
}
                    </code></pre>
                    <p>En Javascript</p>
                    <pre><code data-trim contenteditable>
&lt;script&gt;
    if( window.matchMedia( 'condition' ).matches )
    {
        /* Mon JS */
    }
&lt;/script&gt;
                    </code></pre>
                </section>

                <section>
                    <h3>Anciens critères (CSS2)</h3>
                    <ul>
                        <li>print</li>
                        <li>screen</li>
                        <li>tv</li>
                        <li>...</li>
                    </ul>
                </section>

                <section>
                    <h3>Nouveaux critères</h3>
                    <ul>
                        <li>aspect-ratio</li>
                        <li>width</li>
                        <li>height</li>
                        <li>orientation</li>
                        <li>pixel-ratio</li>
                        <li>device-*</li>
                        <li>min-*</li>
                        <li>max-*</li>
                        <li>...</li>
                    </ul>
                </section>

                <section>
                    <h3>Exemples simples</h3>
                    <pre><code data-trim contenteditable class="css">@media (width:700px)</code></pre>
                    <pre><code data-trim contenteditable class="css">@media (min-width:700px)</code></pre>
                    <pre><code data-trim contenteditable class="css">@media (min-device-width:700px)</code></pre>
                    <pre><code data-trim contenteditable class="css">@media (min-width:700px) and (max-width:1000px)</code></pre>
                    <pre><code data-trim contenteditable class="css">@media (min-device-pixel-ratio:1.5)</code></pre><pre><code data-trim contenteditable class="css">@media tv and (orientation:portrait)</code></pre>
                    <pre><code data-trim contenteditable class="css">@media print</code></pre>
                </section>

                <section>
                    <h3>Exemple avec préfixe</h3>
                    <pre><code data-trim contenteditable class="css">@media (-webkit-min-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5)</code></pre>
                </section>

                <section>
                    <h3>Exemple avec only screen</h3>
                    <p>Par défaut, les navigateurs non compatibles vont appliquer le CSS<br>Pour éviter cela, il faut démarrer la condition par <span class="hl">only screen</span></p>
                    <pre><code data-trim contenteditable class="css">@media only screen and (min-width:700px)</code></pre>
                </section>

                <section>
                    <p>
                        Can I Use : <a target="_blank" href="http://caniuse.com/#feat=css-mediaqueries">http://caniuse.com/#feat=css-mediaqueries</a>
                    </p>
                </section>

                <section>
                    <h3>Exemples</h3>
                    <p>Treehouse : <a target="_blank" href="http://teamtreehouse.com/">http://teamtreehouse.com</a></p>
                    <p>Elysée : <a target="_blank" href="http://www.elysee.fr/">http://www.elysee.fr</a></p>
                    <p>JR &amp; associée : <a target="_blank" href="http://www.jr-associee.com/">http://www.jr-associee.com</a></p>
                </section>

                <section>
                    <h3>procéssus</h3>
                    <p>Faire un site responsive concerne à la fois la créa et le développement</p>
                    <ul>
                        <li>Soit le créa s'y connait bien en front et prépare des maquettes responsive</li>
                        <li>Soit le dev est bon en créa et improvise le responsive</li>
                    </ul>
                </section>

                <!-- <section>
                    <h3>Exercice</h3>
                    <ul>
                        <li>Background <span style="color:#f00">rouge</span> si largeur du navigateur inférieure à <span class="hl">500px</span></li>
                        <li>Background <span style="color:#00e0ff">bleu</span> si largeur du navigateur entre <span class="hl">500 et 700px</span></li>
                        <li>Background <span style="color:#0f0">vert</span> si largeur supérieure ou égale à <span class="hl">700px</span></li>
                        <li>Taille de police à <span class="hl">25px</span> si hauteur inférieure à <span class="hl">500px</span></li>
                        <li>Taille de police à <span class="hl">50px</span> si hauteur supérieure ou égale à <span class="hl">500px</span></li>
                        <li>Police <span style="color:#fff">blanche</span> si <span class="hl">écran retina</span></li>
                    </ul>
                </section> -->

                <section>
                    <p>Aller plus loin</p>
                    <ul>
                        <li><a href="http://simplecss.eu/" target="_blank">Liste de Media Queries spécifiques</a></li>
                        <li><a href="https://developers.google.com/web/fundamentals/design-and-ui/responsive/" target="_blank">Article complet sur le responsive</a></li>
                    </ul>
                </section>

                <!-- IMAGES -->
                <section>
                    <h2>Images</h2>
                </section>

                <section>
                    <p>Grâce au responsive, on peut avoir une même page qui fonctionne sur mobile et desktop</p>
                    <p>Sauf que les images chargées sont les mêmes</p>
                </section>

                <section>
                    <h3>srcset</h3>
                    <p>L'attribut <span class="hl">srcset</span> d'une balise <span class="hl">&lt;img&gt;</span> permet de définir plusieurs sources accompagnées de leurs critères</p>
                    <pre><code data-trim contenteditable class="html">
&lt;img
    src="image-test-1280.png"
    srcset="image-test-320.png 320w,
            image-test-640.png 640w,
            image-test-1280.png 1280w"
    width="100%"
&gt;
                    </code></pre>
                    <p>Le navigateur ne chargera que l'image la plus adaptée</p>
                </section>

                <section>
                    <p>Compatibilité : <a href="http://caniuse.com/#feat=srcset" target="_blank">http://caniuse.com/#feat=srcset</a></p>
                    <p><a href="http://www.alsacreations.com/article/lire/1621-responsive-images-srcset.html" target="_blank">Plus d'infos</a></p>
                </section>

                <section>
                    <h3>picture</h3>
                    <p>La balise &lt;picture&gt; est une autre solution similaire</p>
                    <pre><code data-trim contenteditable class="html">
&lt;picture&gt;
    &lt;source srcset="image-test-320.png" media="(max-width:320px)"&gt;
    &lt;source srcset="image-test-640.png" media="(max-width:640px)"&gt;
    &lt;source srcset="image-test-1280.png" media="(min-width:641px)"&gt;
    &lt;img src="image-test-320.png" width="100%"&gt;
&lt;/picture&gt;
                    </code></pre>
                </section>

                <section>
                    <p>Compatibilité : <a href="http://caniuse.com/#feat=picture" target="_blank">http://caniuse.com/#feat=srcset</a></p>
                    <p><a href="https://github.com/scottjehl/picturefill" target="_blank">Polyfill</a></p>
                    <p><a href="http://webdesign.tutsplus.com/tutorials/quick-tip-how-to-use-html5-picture-for-responsive-images--cms-21015" target="_blank">Plus d'infos</a></p>
                </section>

                <section>
                    <p>Aller plus loin</p>
                    <ul>
                        <li><a href="https://developers.google.com/web/fundamentals/design-and-ui/media/images" target="_blank">Article complet sur les images</a></li>
                    </ul>
                </section>

                <section>
                    <h2>Conclusion</h2>
                    <p>Rendre votre site responsive est une priorité</p>
                    <p>Prévoyez-le en amont et dans le budget</p>
                    <p>Testez sur plein de devices différents</p>
                </section>
            </div>
        </div>

        <script src="../src/reveal.js/lib/js/head.min.js"></script>
        <script src="../src/reveal.js/js/reveal.js"></script>
        <script src="../src/custom/script.js"></script>
    </body>
</html>
